"Conditions"
	{
	"Condition"
		{
		"instance" "<ITEM_BEE2_FUTBOL>"
		
		"Result"
			{
			// Add the panel.
			"TemplateBrush" "BEE2_FUTBOL_SURF_BACK"
			// Add the filter we used into the globals area.
			"AddGlobal" "instances/BEE2/clean/items/futbol/filter_futbol.vmf"
			}

		// Now pick the instances so we have optimum logic.

		"Condition"
			{
			// First check to see if it's possible to spawn a futbol - if we have inputs or autospawn.
			"OR"
				{
				"instvar" "$connectioncount > 0"
				"instvar" "$disable_autodrop = 1"
				}
			// If we do have either, add the futbol itself.
			"Result"
				{
				"AddOverlay" "<ITEM_BEE2_FUTBOL:bee2_futbol>"
				}
			// If set to respawn, add those outputs.
			"Condition"
				{
				"instvar" "$disable_autorespawn = 1"
				"Result"
					{
					"AddOverlay" "instances/bee2/clean/items/futbol/respawn.vmf"
					}
				}
			"Condition"
				{
				// If we have input or respawn, add the spawner.
				// That then puts the futbol into a template.
				"OR"
					{
					"instvar" "$connectioncount > 0"
					"instvar" "$disable_autorespawn = 1"
					}
				"Result"
					{
					"AddOverlay" "<ITEM_BEE2_FUTBOL:bee2_spawner>"
					}
				// Otherwise, the futbol is only goint to spawn at the start.
				// So we can just leave it directly in the map.
				}
			// Otherwise, it's just a detector and doesn't spawn anything.
			}
		}
	}
