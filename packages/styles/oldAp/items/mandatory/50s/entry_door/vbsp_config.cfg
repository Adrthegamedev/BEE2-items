"Conditions"
	{
	"Condition"
		{
		"Priority" "50"
		"instance" "[door_frame]" // SP and Coop.
		"Result"
			{
			"TemplateBrush" "BEE2_DOOR_FRAME_50s"
			}
		"Condition"
			{
			"StyleVar" "DoorCameras"
			// Basic check that this space is free - check all four blocks, and that it's inside the map.
			"BlockType"
				{
				"Offset" "0 -1 0"
				"Type"   "AIR OCCUPIED GOO"
				}
			"PosIsSolid"
				{
				"Pos" "16 -144 0"
				"Type" "tile"
				}
			"PosIsSolid"
				{
				"Pos" "48 -144 0"
				"Type" "tile"
				}
			"PosIsSolid"
				{
				"Pos" "16 -176 0"
				"Type" "tile"
				}
			"PosIsSolid"
				{
				"Pos" "48 -176 0"
				"Type" "tile"
				}
			"Result"
				{
				"ChangeInstance" "instances/BEE2/50s/sphere_sp/door_speaker.vmf"
				}
			"Else"
				{
				"ChangeInstance" ""
				}
			}
		}

	"Condition"
		{
		"Priority"	"10"
		"instance"	"[elevatorEntry]"

		"Condition"
			{
			"StyleVar"	"OpenSphere"
			"Result"
				{
				"suffix"	"open"
				"Condition"
					{
					"has" "blueGel"
					"Result"
						{
						"addOverlay" "instances/BEE2/50s/sphere_sp/sphere_open/pipes_blue.vmf"
						}
					}
				"Condition"
					{
					"has" "orangeGel"
					"Result"
						{
						"addOverlay" "instances/BEE2/50s/sphere_sp/sphere_open/pipes_orange.vmf"
						}
					}
				"Condition"
					{
					"has" "whiteGel"
					"Result"
						{
						"addOverlay" "instances/BEE2/50s/sphere_sp/sphere_open/pipes_white.vmf"
						}
					}
				"Condition"
					{
					"has" "greyGel"
					"Result"
						{
						"addOverlay" "instances/BEE2/50s/sphere_sp/sphere_open/pipes_grey.vmf"
						}
					}
				"Condition"
					{
					"has" "CubeDropper"
					"Result"
						{
						"addOverlay" "instances/BEE2/50s/sphere_sp/sphere_open/dropper.vmf"
						}
					}
				}
			"Else"
				{
				"Condition"
					{
					"has"	"blueGel"
					"Result"
						{
						"addOverlay" "instances/BEE2/50s/sphere_sp/sphere/pipes_blue.vmf"
						}
					}
				"Condition"
					{
					"has"	"orangeGel"
					"Result"
						{
						"addOverlay" "instances/BEE2/50s/sphere_sp/sphere/pipes_orange.vmf"
						}
					}
				"Condition"
					{
					"has"	"whiteGel"
					"Result"
						{
						"addOverlay" "instances/BEE2/50s/sphere_sp/sphere/pipes_white.vmf"
						}
					}
				"Condition"
					{
					"has" "clearGel"
					"Result"
						{
						"addOverlay" "instances/BEE2/50s/sphere_sp/sphere_open/pipes_clear.vmf"
						}
					}
				"Condition"
					{
					"has"	"greyGel"
					"Result"
						{
						"addOverlay" "instances/BEE2/50s/sphere_sp/sphere/pipes_grey.vmf"
						}
					}
				"Condition"
					{
					"has"	"DiversityVent"
					"Result"
						{
						"addOverlay" "instances/BEE2/50s/sphere_sp/sphere/vent.vmf"
						}
					}
				}
			}
		}
		
	"Condition"
		{
		"Priority" "10"
		"Instance" "[spEntryCorr]"
		"Result"
			{
			"AddOverlay" "instances/BEE2/50s/sphere_sp/entry_door.vmf"
			// Rotate the instance so it can be constructed upright.
			"switchOrientation" "wall"
			}
	
		"Switch"
			{
			"flag" "InstVar"
			"$corr_index = 1"
				{
				"TemplateBrush"
					{
					"ID" "BEE2_50s_CORRIDOR_1"
					"Visgroup"
						{
						"gel_bounce"  { "has" "bluegel" }
						"gel_speed"   { "has" "orangegel" }
						"spallation"  { "has" "funnel" }
						"safetyfirst" { "has" "deadly" }
						"airpockets" 
							{
							"OR"
								{
								"has"	"watergel"
								"has"	"goo"
								}
							}
						}
					}
				}
			"$corr_index = 2"
				{
				"TemplateBrush"
					{
					"ID" "BEE2_50s_CORRIDOR_2"
					"Visgroup"
						{
						"gel_bounce"  { "has" "bluegel" }
						"gel_speed"   { "has" "orangegel" }
						"spallation"  { "has" "funnel" }
						"danger"      { "has" "deadly" }
						"airpockets" 
							{
							"OR"
								{
								"has"	"watergel"
								"has"	"goo"
								}
							}
						// Don't show the "You need a quantum tunneling device" sign!
						"pgun" { "!game" "Aperture Tag" }
						}
					}
				}
			"$corr_index = 3"
				{
				"TemplateBrush"
					{
					"ID" "BEE2_50s_CORRIDOR_3"
					"Visgroup"
						{
						"gel_bounce"  { "has" "bluegel"    }
						"gel_speed"   { "has" "orangegel"  }
						"gel_dropper" { "has" "geldropper" }
						"spallation"  { "has" "funnel"     }
						"safetyfirst" { "has" "deadly"     }
						"airpockets" 
							{
							"OR"
								{
								"has"	"watergel"
								"has"	"goo"
								}
							}
						}
					}
				}
			"$corr_index = 4"
				{
				"TemplateBrush"
					{
					"ID" "BEE2_50s_CORRIDOR_4"
					"Visgroup"
						{
						"gel_bounce"  { "has" "bluegel" }
						"gel_speed"   { "has" "orangegel" }
						"spallation"  { "has" "funnel" }
						"danger"      { "has" "deadly" }
						"platform" 
							{
							"OR" 
								{
								"has"	"pistonPlatform"
								"has"	"trackPlatform"
								}
							"!has" "deadly" // This is in the same spot.
							}
						"airpockets" 
							{
							"OR"
								{
								"has"	"watergel"
								"has"	"goo"
								}
							}
						}
					}
				}
			"$corr_index = 5"
				{
				"TemplateBrush"
					{
					"ID" "BEE2_50s_CORRIDOR_5"
					"Visgroup"
						{
						"gel_bounce"  { "has" "bluegel"    }
						"gel_speed"   { "has" "orangegel"  }
						"gel_dropper" { "has" "geldropper" }
						"spallation"  { "has" "funnel"     }
						"safetyfirst" { "has" "deadly"     }
						"airpockets" 
							{
							"OR"
								{
								"has"	"watergel"
								"has"	"goo"
								}
							}
						}
					}
				}
			"$corr_index = 6"
				{
				"TemplateBrush"
					{
					"ID" "BEE2_50s_CORRIDOR_6"
					"Visgroup"
						{
						"gel_bounce"  { "has" "bluegel"    }
						"gel_speed"   { "has" "orangegel"  }
						"gel_dropper" { "has" "geldropper" }
						"spallation"  { "has" "funnel"     }
						"safetyfirst" { "has" "deadly"     }
						"airpockets" 
							{
							"OR"
								{
								"has"	"watergel"
								"has"	"goo"
								}
							}
						}
					}
				}
			"$corr_index = 7"
				{
				"TemplateBrush"
					{
					"ID" "BEE2_50s_CORRIDOR_7"
					"Visgroup"
						{
						"gel_bounce"  { "has" "bluegel" }
						"gel_speed"   { "has" "orangegel" }
						"spallation"  { "has" "funnel" }
						"airpockets" 
							{
							"OR"
								{
								"has"	"watergel"
								"has"	"goo"
								}
							}
						}
					}
				}
			}
		}
	}
