"Conditions"
	{
	"Condition"
		{
		"instance" "<ITEM_OBSERVATION_ROOM>"
		"Condition"
			{
			"Has" "ObsWorldPortal"
			"Result"
				{
				// Already added, convert to the grating instance.
				"ChangeInstance" "%OBS_ROOM%"
				}
			"Else"
				{
				"Has"	"ObservationGrate"
				"Has"	"ObsWorldPortal"
				// Figure out which type it's become...
				"Condition"
					{
					"instance" "<ITEM_OBSERVATION_ROOM:bee2_obs_horiz>"
					"Result"
						{
						"Has" "ObservationGrate"
						"Has" "ObservationGrateHoriz"
						}
					}
				"Condition"
					{
					"instance" "<ITEM_OBSERVATION_ROOM:bee2_obs_vert>"
					"Result"
						{
						"Has" "ObservationGrate"
						"Has" "ObservationGrateVert"
						}
					}
				}
			}
		}
		
	"Condition"
		{
		"Priority" "20"
		"instance" "[spEntry]"
		"Has" "ObservationGrate"
		"Condition"
			{
			"Has" "ObservationGrateHoriz"
			"Result"
				{
				"addOverlay"
					{
					"File"   "instances/BEE2/50s/items/observation_grate_sphere_horiz.vmf"
					"Offset" "%SP_OFF%"
					}
				}
			}
		"Condition"
			{
			"Has" "ObservationGrateVert"
			"Result"
				{
				"addOverlay"
					{
					"File"   "instances/BEE2/50s/items/observation_grate_sphere_vert.vmf"
					"Offset" "%SP_OFF%"
					}
				}
			}
		}
	"Condition"
		{
		"Priority" "20"
		"instance" "[coopExit]"
		"Has" "ObservationGrate"
		"Condition"
			{
			"Has" "ObservationGrateHoriz"
			"Result"
				{
				"addOverlay"
					{
					"File"   "instances/BEE2/50s/items/observation_grate_sphere_horiz.vmf"
					"Offset" "%MP_OFF%"
					}
				}
			}
		"Condition"
			{
			"Has" "ObservationGrateVert"
			"Result"
				{
				"addOverlay"
					{
					"File"   "instances/BEE2/50s/items/observation_grate_sphere_vert.vmf"
					"Offset" "%MP_OFF%"
					}
				}
			}
		}
	}
