"Conditions"
	{
	"Condition"
		{
		"instance"	"<ITEM_PISTON_PLATFORM>"
		"Result"
			{
			"Has"
				{
				"pistonPlatform"	"1"
				"piston"			"1"
				"panel"				"1"
				}
			"PistonPlatform"
				{
				"template"     "BEE2_PISTON_PLATFORM_MODERN"
				
				"static_1"     "instances/BEE2/clean/items/pist_plat/pist_static_1.vmf"
				"static_2"     "instances/BEE2/clean/items/pist_plat/pist_static_2.vmf"
				"static_3"     "instances/BEE2/clean/items/pist_plat/pist_static_3.vmf"
				
				"dynamic_1"    "instances/BEE2/clean/items/pist_plat/pist_dynamic_1.vmf"
				"dynamic_2"    "instances/BEE2/clean/items/pist_plat/pist_dynamic_2.vmf"
				"dynamic_3"    "instances/BEE2/clean/items/pist_plat/pist_dynamic_3.vmf"
				"dynamic_4"    "instances/BEE2/clean/items/pist_plat/pist_dynamic_4.vmf"
				
				"fullstatic_0" "instances/BEE2/clean/items/pist_plat/static_0.vmf"
				"fullstatic_1" "instances/BEE2/clean/items/pist_plat/static_1.vmf"
				"fullstatic_2" "instances/BEE2/clean/items/pist_plat/static_2.vmf"
				"fullstatic_3" "instances/BEE2/clean/items/pist_plat/static_3.vmf"
				"fullstatic_4" "instances/BEE2/clean/items/pist_plat/static_4.vmf"
				
				"grate_low"  
				
				"snd_loop"   "World.PlatformStart"
				"snd_stop"   "World.PlatformStop"
				"source_ent" "platform"
				}
			}
		"Condition"
			{
			"instvar" "$bottom_level > 0"
			"Result" { "AddOverlay" "instances/BEE2/clean/items/pist_plat/grate_high.vmf" }
			"Else"   { "AddOverlay" "instances/BEE2/clean/items/pist_plat/grate_low.vmf" }
			}
		"Condition"
			{
			// If the same, they're static...
			"instvar" "$bottom_level != $top_level"
			"Result"
				{
				"AddOverlay" "instances/BEE2/clean/items/pist_plat/logic.vmf"
				}
			}
		}
	}
