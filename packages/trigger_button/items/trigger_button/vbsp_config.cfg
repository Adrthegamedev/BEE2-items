"Conditions"
	{
	"Condition"
		{
		"instance" "<ITEM_BEE2_TRIGGER_BUTTON>"
		"Result"
			{
			"AlterTexture"
				{
				"Dir" "0 0 -1"
				"Pos" "0 0 0"
				"Tex" "tools/toolsnodraw"
				}
				
			"Has"
				{
				"WeightedButton"	"1"
				"FloorButton"		"1"
				"ButtonAcceptsCube"	"1"
				"ButtonAcceptsBall"	"1"
				}
			// Move so our origin matches regular buttons - so we can reuse the template.
			"OffsetInst" "0 0 96"
			// Button platform.. 
			"TemplateBrush" 
				{
				"ID"       "BEE2_FLOOR_BUTTON_BASE_CLEAN_WEIGHTED"
				"colorvar" "<editor>"
				} 
			
			// Pillar.
			"TemplateBrush"
				{
				"ID"       "BEE2_TRIGGER_BUTTON_PILLAR_SOLID"
				"colorvar" "<editor>"
				}
				
			"CubeFilter"
				{
				"Cube"      "<any>"
				"resultVar" "$filter"
				}
				
			"ChangeInstance" "<ITEM_BEE2_TRIGGER_BUTTON:bee2_btn>"
			"GlobalInput"
				{
				"Target" "cube"
				"Input" "DisablePickup"
				}
				
			// Valve's FGDs don't define parenting cubes, so it won't have names
			// fixed up. Do it manually.
			
			// Why not button inputs? This ensures the button stays down if you 
			// press and release the button with a normal cube.
			"createEntity"
				{
				"LocalKeys"
					{
					"targetname" "cube"
					"parentname" "mover"
					}
				"Keys"
					{
					"classname"   "prop_weighted_cube"
					"allowfunnel" "0"
					"NewSkins"    "1"
					"PaintPower"  "4" // Cleansing
					"origin"      "0 0 -102"
					"skin"        "0"
					"CubeType"    "0"
					"SkinType"    "0"
					"RenderMode"  "10" // Not visible
					}
				}
			}
		}
	}
